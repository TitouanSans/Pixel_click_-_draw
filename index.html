<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Click'n'Draw</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <!-- <div class="flex">
        <p>X</p>
        <button onclick="removeX()">-</button>
        <button onclick="addX()">+</button>
    </div>
    <div class="flex">
        <p>Y</p>
        <button onclick="removeY()">-</button>
        <button onclick="addY()">+</button>
    </div> -->

    <button class="btn-border" onclick="LabWall()">CONTOUR-AUTO</button>
    <div class="BtnAreaX"></div>
    <div class="BtnAreaY"></div>

    <div id="btn-LX"></div>
    <div class="flex">
        <div id="scene"></div>
        <div id="btn-LY" class="flex-column"></div>
    </div>

<script>
    const grille = {
        y:50,
        x:50
    };

// Création des boutons de coloration de ligne
    for (let bx = 0; bx < grille.x; bx++) {
        document.getElementById('btn-LX').innerHTML+=`<button id='${'btnX'+(bx+1)}' class='BLX' onclick="LineX(${bx+1})">${bx+1}</button>`;
           
    }
    for (let by = 0; by < grille.y; by++) {
        document.getElementById('btn-LY').innerHTML+=`<button id='${'btnY'+(by+1)}' class='BLY' onclick="LineY(${by*100})">${by+1}</button>`;
    }

// Boucle de création des div qui formeront le cadrillage à cliquer
// Première Boucle h définissant le nombre de rangée du cadrillage
    for (let h = 0; h < grille.y; h++) {
        let range = 'H'+h;
        document.getElementById('scene').innerHTML+=`<div id='${range}' class="flex"></div>`;
           
        // Boucle i définissant le nombre X de case dans une rangée
        for (let i = 0; i < grille.x; i++) {
            let bloc = (i+1) + (h*100);

            document.getElementById(range).innerHTML+=`<div id='${'bloc'+bloc}' onclick="Click('${'bloc'+bloc}')" class="B1"></div>`;
        }
    }

    // L'appui d'une case remplace sa classe B1 par B2, et inversement.
    function Click(id) {
        console.log(id);
        const bloc = document.getElementById(id);

        if (bloc.classList.contains('B1')) {
            bloc.className = "B2";
        } else {
            bloc.className = "B1";
        }
    }

    // Check toutes les cases au bord du cadrillage
    function LabWall() {

        for (let w = 0; w < grille.y; w++) {
            let wallStartY = (100*w)+1;
            document.getElementById('bloc'+wallStartY).className = "B2";

            let wallEndY = (100*w)+grille.x;
            document.getElementById('bloc'+wallEndY).className = "B2";
        }
        
        for (let z = 0; z < grille.x; z++) {
            let wallStartX = z+1;
            document.getElementById('bloc'+wallStartX).className = "B2";

            let wallEndX = (100*(grille.y)-100)+(z+1);
            console.log(wallEndX);
            document.getElementById('bloc'+wallEndX).className = "B2";
        }
    }

    function LineX(id) {
        for (let w = 0; w < grille.y; w++) {
            let LX = (100*w)+id;
            document.getElementById('bloc'+LX).className = "B2";

        }
    }

    function LineY(id) {
        console.log('ID n°'+id);
        for (let z = 0; z < grille.x; z++) {
            let LY = (z+1)+id;
            console.log('LY: '+LY)
            document.getElementById('bloc'+LY).className = "B2";

        }
    }

    // let nbPushAddY = 0;
    // let addY = 'add'+nbPushAddY;
    
    // function addY() {

    //     let plusY = 'HY'+1;
    //     document.body.innerHTML+=`<div id='${plusY}' class="flex"></div>`;
           
    //     // Boucle i définissant le nombre X de case dans une rangée
    //     for (let i = 0; i < grille.x; i++) {
    //         let bloc = 'Y' + (i+1);

    //         document.getElementById(plusY).innerHTML+=`<div id='${'blocY'+bloc}' onclick="Click('${'blocY'+bloc}')" class="B1"></div>`;
    //     }
    // }

</script>
</body>
</html>